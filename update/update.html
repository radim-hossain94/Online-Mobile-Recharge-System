<html>
<head>
<script>
function showHint() {
	var  xmlhttp = new XMLHttpRequest();
	var str=document.getElementById('mytext').value;	
	//document.getElementById("spinner").style.visibility= "visible";
	xmlhttp.onreadystatechange = function() {
		//alert(xmlhttp.rxmlhttpeadyState);
		if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {			
			//document.getElementById("spinner").style.visibility= "hidden";
			var m=document.getElementById("txtHint");
			m.innerHTML=xmlhttp.responseText;
		}
	};
 	var url="server.php?operator="+str;
	//alert(url);

	xmlhttp.open("GET", url,true);
	xmlhttp.send();
}


function updateHint() {
	var  xmlhttp = new XMLHttpRequest();
	
	var str=document.getElementById('mytext').value;
    var str1=document.getElementById('mytext1').value;
	var str2=document.getElementById('mytext2').value;
	
	var id_error=document.getElementById('id_error');
	var offer_error=document.getElementById('offer_error');
	var cost_error=document.getElementById('cost_error');
	
	id_error.innerHTML=" ";
	offer_error.innerHTML=" ";
	if(str!="" && str1!="" && str2!=""){
	cost_error.innerHTML=" ";
	    xmlhttp.onreadystatechange = function() {
		
		if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {			
			
			var m=document.getElementById("txtHint");
			m.innerHTML=xmlhttp.responseText;
		}
	};
 	var url="server1.php?id="+str+"&offer="+str1+"&cost="+str2;
	//alert(url);

	xmlhttp.open("GET", url,true);
	xmlhttp.send();
	}
	else{
	if(str==""){
	    id_error.textContent="id can't be empty";
		return false;
	}
    if(str1==""){
        offer_error.textContent="offer can't be empty";
		return false;
	}	
	if(str2==""){
        cost_error.textContent="cost can't be empty";
		return false;
	}
		
	}
	
}

</script>
</head>
<br>
<body>

<p><h2><marquee><h1 style="color : Green"> Update Offer </h1></marquee></h2></p>
<br>
<br>
<br>
<br>
<br> 
<table align="center" id="txtHint" border="1px">
       
	   <tr>
	       <th>Id</th>
		   <th>Operator Name</th>
		   <th>Offer</th>
		   <th>Cost</th>
		   
	   </tr>

</table>

<br>
<br>
<br> 
<p align="middle">Choose offer id : <input type="text"  id="mytext"/></p>
<div align="middle" style="color:Red" id="id_error"></div>
<p align="middle">Type new offer : <input type="text"  id="mytext1"/></p>
<div align="middle" style="color:Red" id="offer_error"></div>
<p align="middle">Type new cost : <input type="text"  id="mytext2"/></p>
<div align="middle" style="color:Red" id="cost_error"></div>
<br>
<br>
<p align="middle"><input type="button" value="show all offers" onclick="showHint()"/>
                  <input type="button" value="update" onclick="updateHint()"/>
</p>

<p align="middle"><a href="http://localhost/mobileRecharge/welcome.html" ><button > back </button></a></p>


</body>
</html>